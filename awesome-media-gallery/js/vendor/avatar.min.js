jQuery.event.props.push("dataTransfer"),function(){var e,a={settings:{bod:$(".profile-avatar-wrap"),img:$("#js-my-avatar"),fileInput:$("#avatar-img")},init:function(){e=a.settings,a.bindUIActions()},bindUIActions:function(){var n;e.bod.on("dragover",function(r){return clearTimeout(n),r.currentTarget==e.bod[0]&&a.showDroppableArea(),!1}),e.bod.on("dragleave",function(r){r.currentTarget==e.bod[0]&&(n=setTimeout(function(){a.hideDroppableArea()},200))}),e.bod.on("drop",function(e){e.preventDefault(),a.handleDrop(e.dataTransfer.files)}),e.fileInput.on("change",function(e){a.handleDrop(e.target.files)})},showDroppableArea:function(){e.bod.addClass("droppable")},hideDroppableArea:function(){e.bod.removeClass("droppable")},handleDrop:function(e){a.hideDroppableArea();var n=e[0];"undefined"!=typeof n&&n.type.match("image.*")?a.resizeImage(n,225,function(e){a.placeImage(e)}):alert("That file wasn't an image.")},resizeImage:function(e,a,n){var r=new FileReader;r.onload=function(){Resample(this.result,a,a,n)},r.readAsDataURL(e),r.onabort=function(){alert("The upload was aborted.")},r.onerror=function(){alert("An error occured while reading the file.")}},placeImage:function(){e.img.css("opacity",0)}};a.init()}();